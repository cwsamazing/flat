(function(e){e.fn.multiscroll=function(t){function u(){o=e(window).height();a();e.isFunction(t.afterResize)&&t.afterResize.call(this)}function a(){if(t.css3){p(e(".ms-left"),"translate3d(0px, -"+e(".ms-left").find(".ms-section.active").position().top+"px, 0px)",false);p(e(".ms-right"),"translate3d(0px, -"+e(".ms-right").find(".ms-section.active").position().top+"px, 0px)",false)}else{e(".ms-left").css("top",-e(".ms-left").find(".ms-section.active").position().top);e(".ms-right").css("top",-e(".ms-right").find(".ms-section.active").position().top)}}function f(s){var o=s.index();var u=e(".ms-right").find(".ms-section").eq(r-1-o);var a=r-1-o;var f=s.data("anchor");var l=e(".ms-left .ms-section.active");var c=l.index()+1;var h=g(s);i=true;y(f);var d={left:s.position().top,right:u.position().top};u.addClass("active").siblings().removeClass("active");s.addClass("active").siblings().removeClass("active");if(t.css3){e.isFunction(t.onLeave)&&t.onLeave.call(this,c,o+1,h);var b="translate3d(0px, -"+d["left"]+"px, 0px)";var w="translate3d(0px, -"+d["right"]+"px, 0px)";p(e(".ms-left"),b,true);p(e(".ms-right"),w,true);setTimeout(function(){e.isFunction(t.afterLoad)&&t.afterLoad.call(this,f,o+1);setTimeout(function(){i=false},n)},t.scrollingSpeed)}else{e.isFunction(t.onLeave)&&t.onLeave.call(this,c,o+1,h);e(".ms-left").animate({top:-d["left"]},t.scrollingSpeed,t.easing,function(){e.isFunction(t.afterLoad)&&t.afterLoad.call(this,f,o+1);setTimeout(function(){i=false},n)});e(".ms-right").animate({top:-d["right"]},t.scrollingSpeed,t.easing)}lastScrolledDestiny=f;m(f);v(f,o)}function l(){if(document.addEventListener){document.removeEventListener("mousewheel",h,false);document.removeEventListener("wheel",h,false)}else{document.detachEvent("onmousewheel",h)}}function c(){if(document.addEventListener){document.addEventListener("mousewheel",h,false);document.addEventListener("wheel",h,false)}else{document.attachEvent("onmousewheel",h)}}function h(t){t=window.event||t;var n=Math.max(-1,Math.min(1,t.wheelDelta||-t.deltaY||-t.detail));if(!i){if(n<0){e.fn.multiscroll.moveSectionDown()}else{e.fn.multiscroll.moveSectionUp()}}return false}function p(e,t,n){e.toggleClass("ms-easing",n);e.css(d(t))}function d(e){return{"-webkit-transform":e,"-moz-transform":e,"-ms-transform":e,transform:e}}function v(n,r){if(t.navigation){e("#multiscroll-nav").find(".active").removeClass("active");if(n){e("#multiscroll-nav").find('a[href="#'+n+'"]').addClass("active")}else{e("#multiscroll-nav").find("li").eq(r).find("a").addClass("active")}}}function m(n){if(t.menu){e(t.menu).find(".active").removeClass("active");e(t.menu).find('[data-menuanchor="'+n+'"]').addClass("active")}}function g(t){var n=e(".ms-left .ms-section.active").index();var r=t.index();if(n>r){return"up"}return"down"}function y(e){if(t.anchors.length){location.hash=e}}function b(){var e=document.createElement("p"),t,n={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(e,null);for(var r in n){if(e.style[r]!==undefined){e.style[r]="translate3d(1px,1px,1px)";t=window.getComputedStyle(e).getPropertyValue(n[r])}}document.body.removeChild(e);return t!==undefined&&t.length>0&&t!=="none"}function w(e){e.addClass("ms-table").wrapInner('<div class="ms-tableCell" style="height: '+E(e)+'px" />')}function E(e){var n=o;if(t.paddingTop||t.paddingBottom){var r=parseInt(e.css("padding-top"))+parseInt(e.css("padding-bottom"));n=o-r}return n}function S(){var t=window.location.hash.replace("#","");var n=e('.ms-left .ms-section[data-anchor="'+t+'"]');if(t.length){f(n)}}function k(n){var r=n.originalEvent;n.preventDefault();var s=e(".ms-left .ms-section.active");if(!i){var o=M(r);N=o["y"];C=o["x"];if(Math.abs(x-N)>e(window).height()/100*t.touchSensitivity){if(x>N){e.fn.multiscroll.moveSectionDown()}else if(N>x){e.fn.multiscroll.moveSectionUp()}}}}function L(e){var t=e.originalEvent;var n=M(t);x=n["y"];T=n["x"]}function A(){e(document).off("touchstart MSPointerDown").on("touchstart MSPointerDown",L);e(document).off("touchmove MSPointerMove").on("touchmove MSPointerMove",k)}function O(){e(document).off("touchstart MSPointerDown");e(document).off("touchmove MSPointerMove")}function M(e){var t=new Array;if(window.navigator.msPointerEnabled){t["y"]=e.pageY;t["x"]=e.pageX}else{t["y"]=e.touches[0].pageY;t["x"]=e.touches[0].pageX}return t}t=e.extend({verticalCentered:true,scrollingSpeed:700,easing:"easeInQuart",menu:false,sectionsColor:[],anchors:[],navigation:false,navigationPosition:"right",navigationColor:"#000",navigationTooltips:[],loopBottom:false,loopTop:false,css3:false,paddingTop:0,paddingBottom:0,fixedElements:null,normalScrollElements:null,keyboardScrolling:true,touchSensitivity:5,afterLoad:null,onLeave:null,afterRender:null,afterResize:null},t);var n=600;var r=e(".ms-left").find(".ms-section").length;var i=false;var s;var o=e(window).height();c();A();if(t.css3){t.css3=b()}e("html, body").css({overflow:"hidden",height:"100%"});if(t.navigation){e("body").append('<div id="multiscroll-nav"><ul></ul></div>');s=e("#multiscroll-nav");s.css("color",t.navigationColor);s.addClass(t.navigationPosition)}e(".ms-right, .ms-left").css({width:"50%",position:"absolute",height:"100%","-ms-touch-action":"none"});e(".ms-right").css({right:"1px",top:"0"});e(".ms-left").css({left:"0",top:"0"});e(".ms-left .ms-section, .ms-right .ms-section").each(function(){var n=e(this).index();if(t.paddingTop||t.paddingBottom){e(this).css("padding",t.paddingTop+" 0 "+t.paddingBottom+" 0")}if(typeof t.sectionsColor[n]!=="undefined"){e(this).css("background-color",t.sectionsColor[n])}if(typeof t.anchors[n]!=="undefined"){e(this).attr("data-anchor",t.anchors[n])}if(t.verticalCentered){w(e(this))}if(e(this).closest(".ms-left").length&&t.navigation){var r="";if(t.anchors.length){r=t.anchors[n]}var i=t.navigationTooltips[n];if(typeof i==="undefined"){i=""}if(t.navigation){s.find("ul").append('<li data-tooltip="'+i+'"><a href="#'+r+'"><span></span></a></li>')}}});e(".ms-right").html(e(".ms-right").find(".ms-section").get().reverse());e(".ms-left .ms-section, .ms-right .ms-section").each(function(){var n=e(this).index();e(this).css({height:"100%"});if(!n&&t.navigation){s.find("li").eq(n).find("a").addClass("active")}}).promise().done(function(){if(!e(".ms-left .ms-section.active").length){e(".ms-right").find(".ms-section").last().addClass("active");e(".ms-left").find(".ms-section").first().addClass("active")}e.isFunction(t.afterRender)&&t.afterRender.call(this);a();e(window).on("load",function(){S()})});e(window).on("hashchange",function(){var t=window.location.hash.replace("#","");var n=t;var r=e(".ms-left").find('[data-anchor="'+n+'"]');var i=typeof lastScrolledDestiny==="undefined";if(i||n!==lastScrolledDestiny){f(r)}});e(document).keydown(function(n){if(t.keyboardScrolling&&!i){switch(n.which){case 38:case 33:e.fn.multiscroll.moveSectionUp();break;case 40:case 34:e.fn.multiscroll.moveSectionDown();break;default:return}}});e(document).mousedown(function(e){if(e.button==1){e.preventDefault();return false}});e(document).on("click","#multiscroll-nav a",function(t){t.preventDefault();var n=e(this).parent().index();f(e(".ms-left .ms-section").eq(n))});e(document).on({mouseenter:function(){var n=e(this).data("tooltip");e('<div class="multiscroll-tooltip '+t.navigationPosition+'">'+n+"</div>").hide().appendTo(e(this)).fadeIn(200)},mouseleave:function(){e(this).find(".multiscroll-tooltip").fadeOut().remove()}},"#multiscroll-nav li");if(t.normalScrollElements){e(document).on("mouseover",t.normalScrollElements,function(){e.fn.multiscroll.setMouseWheelScrolling(false)});e(document).on("mouseout",t.normalScrollElements,function(){e.fn.multiscroll.setMouseWheelScrolling(true)})}e(window).resize(function(){u()});e.fn.multiscroll.moveSectionUp=function(){var n=e(".ms-left .ms-section.active").prev(".ms-section");if(!n.length&&t.loopTop){n=e(".ms-left .ms-section").last()}if(n.length){f(n)}};e.fn.multiscroll.moveSectionDown=function(){var n=e(".ms-left .ms-section.active").next(".ms-section");if(!n.length&&t.loopBottom){n=e(".ms-left .ms-section").first()}if(n.length){f(n)}};e.fn.multiscroll.moveTo=function(t){var n="";if(isNaN(t)){n=e('.ms-left [data-anchor="'+t+'"]')}else{n=e(".ms-left .ms-section").eq(t-1)}f(n)};e.fn.multiscroll.setKeyboardScrolling=function(e){t.keyboardScrolling=e};e.fn.multiscroll.setMouseWheelScrolling=function(e){if(e){c()}else{l()}};e.fn.multiscroll.setScrollingSpeed=function(e){t.scrollingSpeed=e};var x=0;var T=0;var N=0;var C=0}})(jQuery)